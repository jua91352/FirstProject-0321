<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../Syle/styles.css">
    <link rel="stylesheet" href="../Syle//productList_styles.css">
    <title>產品細節 | 酉告COOL </title>
  

</head>

<body>
    <!--Header -->
    <header>
        <div class="container">
            <nav class="topall">

                <button class="btn1" id="btn1" onclick="window.location.href='member.html'"
                    style="position: absolute; right: 10px; top: 10px ;">會員登入 / 註冊</button>

                <a href="../View/index .html"><img class="logo" src="../image/logo.png" height="60px"></a>

                <ul class="top">
                    <li>
                        <a href="../View/top.html">上身▼</a>
                        <ul class="top1">
                            <li>
                                <a href="#">T-shirt</a>
                            </li>

                            <li>
                                <a href="#">長袖上衣</a>
                            </li>

                            <li>
                                <a href="#">針織/毛衣</a>
                            </li>

                            <li>
                                <a href="#">襯衫</a>
                            </li>

                            <li>
                                <a href="#">外套/罩衫</a>
                            </li>

                            <li>
                                <a href="#">背心/小可愛</a>
                            </li>

                        </ul>
                    </li>

                    <li>
                        <a href="../View/bottom.html">下身▼</a>
                        <ul class="top1">
                            <li>
                                <a href="#">裙子</a>
                            </li>

                            <li>
                                <a href="#">褲子</a>
                            </li>

                            <li>
                                <a href="#">牛仔褲</a>
                            </li>

                            <li>
                                <a href="#">西裝褲</a>
                            </li>

                            <li>
                                <a href="#">短褲</a>
                            </li>

                            <li>
                                <a href="#">長褲</a>
                            </li>

                            <li>
                                <a href="#">內搭褲</a>
                            </li>
                        </ul>
                    </li>

                    <li>
                        <a href="../View/dress.html">洋裝▼</a>
                        <ul class="top1">
                            <li>
                                <a href="#">長洋裝</a>
                            </li>

                            <li>
                                <a href="#">短洋裝</a>
                            </li>

                        </ul>
                    </li>

                    <!-- <li> <a href="#">外套</a></li> -->

                    <li>
                        <a href="../View/acc.html">配件▼</a>
                        <ul class="top1">
                            <li>
                                <a href="#">項鍊</a>
                            </li>

                            <li>
                                <a href="#">墨鏡/眼鏡</a>
                            </li>

                            <li>
                                <a href="#">襪子</a>
                            </li>
                        </ul>
                    </li>
            </nav>
        </div>
    </header>
    <!--Header -->



    <div class="container">
        <!-- 左欄區塊 -->
        <div class="left-zone">
            <ul class="top-left" id="zone"><a href="top.html">上身</a></ul>
            <il><a href="">T-shirt</a></il>
            <il><a href="">長袖上衣</a></il>
            <il><a href="">針織/毛衣</a></il>
            <il><a href="">襯衫</a></il>
            <il><a href="">外套/罩衫</a></il>
            <il><a href="">背心/小可愛</a></il>
            <br>
            <ul class="top-left" id="zone"><a href="bottom.html">下身</a></ul>
            <il><a href="">裙子</a></il>
            <il><a href="">牛仔褲</a></il>
            <il><a href="">西裝褲</a></il>
            <il><a href="">短褲</a></il>
            <il><a href="">長褲</a></il>
            <il><a href="">內搭褲</a></il>
            <br>
            <ul class="top-left" id="zone"><a href="dress.html">洋裝</a></ul>
            <il><a href="">長洋裝</a></il>
            <il><a href="">短洋裝</a></il>
            <br>
            <ul class="top-left" id="zone"><a href="acc.html">配件</a></ul>
            <il><a href="">項鍊</a></il>
            <il><a href="">墨鏡/眼鏡</a></il>
            <il><a href="">襪子</a></il>
        </div>
        <!-- 左欄區塊 -->


        <div class="right-zone img">
            <table class="product">
                <tr>
                    <th colspan="3" class="h3"> </th>

                </tr>
                <tr>
                    <td colspan="2" class="t1">
                        <div class="prolist">

                            <!-- Container for the image gallery -->
                            <div class="pro1">

                                <!-- Full-width images with number text -->
                                <div class="mySlides">
                                    <div class="numbertext">1 / 3</div>
                                    <img src="../image/pro01.JPG" style="width:60%">
                                </div>

                                <div class="mySlides">
                                    <div class="numbertext">2 / 3</div>
                                    <img src="../image/pro02.JPG" style="width:60%">
                                </div>

                                <div class="mySlides">
                                    <div class="numbertext">3 / 3</div>
                                    <img src="../image/pro03.JPG" style="width:60%">
                                </div>


                                <!-- Next and previous buttons -->
                                <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                                <a class="next" onclick="plusSlides(1)">&#10095;</a>


                                <!-- Thumbnail images -->
                                <div class="row">
                                    <div class="column">
                                        <img class="demo cursor" src="../image/pro01.JPG" style="height: 90%;"
                                            onclick="currentSlide(1)" alt="">
                                    </div>
                                    <div class="column">
                                        <img class="demo cursor" src="../image/pro02.JPG" style="height: 90%"
                                            onclick="currentSlide(2)" alt="">
                                    </div>

                                    <div class="column">
                                        <img class="demo cursor" src="../image/pro03.JPG" style="height: 90%"
                                            onclick="currentSlide(3)" alt="">
                                    </div>

                                </div>
                            </div>

                        </div>
                    </td>

                    <td>
                        <div class="pro-right">
                            <form>
                                <div class="list">
                                    <h3 id="name1">率性針織上衣</h3>
                                    <P>產品描述</P>
                                    <h4 id="price1">$580</h4>
                                    <input type="button" id="sub" onclick="sub1()" value="-" class="minus">
                                    <input type="text" id="text1" value="0">
                                    <input type="button" id="add" onclick="add1()" value="+" class="add">
                                    <br>
                                    <br>
                                    <br>
                                    <p><button onclick="addToCard()">加入購物車</button></p>
                                </div>
                            </form>
                        </div>
                    </td>
                </tr>
                <tr>
                    <tbody border="0" width="80%" id="line"> <!-- 這裡!!!!!!!!!!!!!!!!!!!!!!  -->
                        <tr>
                            <td colspan="3" width="100%">
                                <hr align="center" color="white" size="1">
                            </td>
                        </tr>
                    </tbody>

                    <td colspan="3">
                        <div class="pro-bot">
                            <img width="80%" src="../image/index_0.png">
                            <img width="80%" src="../image/pro01.JPG">
                            <img width="80%" src="../image/pro03.JPG">
                            <img width="80%" src="../image/pro04.JPG">
                        </div>

                    </td>
                </tr>
            </table>
        </div>
        <div class="shopping">
            <a href="#"><img src="../image/shopping.png"></a>
            <span class="quantity">0</span>
        </div>


        <!-- 購物車區塊 -->
        <div class="card">
            <ul class="listCard">
            </ul>
            <div class="sum">
                <div class="total-bottom">共(<span class="quantity2">0</span>)件,
                    小計金額</div>
                <div class="total">0</div>
            </div>

            <div class="check"><a href="../View/member.html">結帳</a></div>

            <div class="checkOut">
                <div class="closeShopping">Close</div>
            </div>
        </div>
        <!-- 購物車區塊 -->


        <!--Footer-->
        <footer>
            <div>
                <a href="#" class="pagetop">Top</a>
                <a href=""><img src="../image/logo.png" height="55px"></a>
                <nav class="endall">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <p style="font-size: 13px; margin: 0;">copyright &copy; 酉告COOL 版權所有. All rights
                            reserved.2024</p>
                        <ul class="end" style="list-style-type: none; padding: 0; margin: 0; padding-right: 40px;">
                            <li id="li1"><a href="qa.html">常見問題</a></li>
                            <li id="li1"><a href="#">廣告刊登</a></li>
                            <li id="li1"><a href="#">關於我們</a></li>
                            <li><a href="#">隱私權政策</a></li>
                        </ul>
                    </div>
                </nav>
            </div>
        </footer>
        <!--Footer-->



        <script>
            let openShopping = document.querySelector('.shopping');
            let closeShopping = document.querySelector('.closeShopping');
            let list = document.querySelector('.list');
            let listCard = document.querySelector('.listCard');
            let body = document.querySelector('body');
            let total = document.querySelector('.total');
            let quantity = document.querySelector('.quantity');
            let quantity2 = document.querySelector('.quantity2');

            openShopping.addEventListener('click', () => {
                body.classList.add('active');
            })
            closeShopping.addEventListener('click', () => {
                body.classList.remove('active');
            })

            function del(element) {
                if (element) {
                    console.log('刪除');
                }
                element.innerHTML = ''; // 清空 li 元素的内容
                total.innerText = '0';
                quantity.innerText = '0';
                quantity2.innerText = '0';
            }

            //在函數外部定義總和與總量
            var totalQuantity = 0;
            var totalPrice = 0;

            function addToCard() {
                var nameele = document.getElementById('name1');
                var proname = nameele.textContent; //取出產品名
                console.log(proname);
                var priceele = document.getElementById('price1');
                var proprice = priceele.textContent;//取出價格(字串)
                var priceValue = parseInt(proprice.replace(/\D/g, ''));//將價格轉成數值
                console.log(proprice);
                console.log(priceValue);
                var number = document.getElementById('text1'); //選取的數量

                var pronum = Number(number.value);//將數量轉成數值
                console.log(pronum);
                var prototal = priceValue * pronum;//價格 * 數量 = 總價
                console.log(prototal);

                // 累加數量和總價
                totalQuantity += pronum;
                totalPrice += priceValue * pronum;

                // 更新界面上的顯示
                var quantity = document.querySelector('.quantity');
                quantity.innerText = totalQuantity;
                quantity2.innerText = totalQuantity;

                var total = document.querySelector('.total');
                total.innerText = totalPrice.toLocaleString();

                // NEW
                var existingItems = document.querySelectorAll('.listCard li');
                var found = false;

                Array.from(existingItems).forEach(item => {
                    if (item.querySelector('div:nth-child(2)').textContent === proname) {
                        var countDiv = item.querySelector('.num');
                        var currentCount = parseInt(countDiv.textContent.replace('共', '').replace('件', ''));
                        countDiv.textContent = `${totalQuantity}件`;
                        found = true;
                    }
                });

                // NEW

                if (!found) {
                    var listCards = document.getElementsByClassName('listCard');
                    if (pronum > 0) {
                        for (var i = 0; i < listCards.length; i++) {
                            var listItem = document.createElement('li');
                            var uniqueId = 'item_' + i; // 生成一个唯一的 id
                            listItem.setAttribute('id', uniqueId); // 設置 li 元素的 id

                            listItem.innerHTML = `
                    <div id="01 "><img src="../image/shopping/01.png"/></div>
                    <div  id="02" class="proname">${proname}</div>
                    <div  id="03" class="count">$${priceValue}</div>
                    <div  id="04" class="tot"> 
                     <div class="num">${pronum}件</div>
                    <div  id="05" class="delete" id="del"><img onclick="del(this.closest('li'))" src="../image/trash.png"></div>
                    </div>                     
                   `;
                            listCards[i].appendChild(listItem);
                        }
                    }
                }
                number.value = '0';
            }

            let slideIndex = 1;
            showSlides(slideIndex);

            // Next/previous controls
            function plusSlides(n) {
                showSlides(slideIndex += n);
            }

            // Thumbnail image controls
            function currentSlide(n) {
                showSlides(slideIndex = n);
            }

            function showSlides(n) {
                let i;
                let slides = document.getElementsByClassName("mySlides");
                let dots = document.getElementsByClassName("demo");
                let captionText = document.getElementById("caption");
                if (n > slides.length) { slideIndex = 1 }
                if (n < 1) { slideIndex = slides.length }
                for (i = 0; i < slides.length; i++) {
                    slides[i].style.display = "none";
                }
                for (i = 0; i < dots.length; i++) {
                    dots[i].className = dots[i].className.replace(" active", "");
                }
                slides[slideIndex - 1].style.display = "block";
                dots[slideIndex - 1].className += " active";
                captionText.innerHTML = dots[slideIndex - 1].alt;
            }

            function add1() {
                var a1 = document.getElementById("text1");
                var d1 = a1.value;
                d1++;
                a1.value = d1;
            }

            function sub1() {
                var s1 = document.getElementById("text1");
                var b1 = s1.value;

                if (b1 > 0) {
                    b1--;
                    s1.value = b1;
                }
                else
                    alert("數量不能小於0！");
            }
        </script>

</body>

</html>